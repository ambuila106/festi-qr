(function(){"use strict";var t={7484:function(t,e,n){var a=n(2856),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},o=[],i={name:"App",components:{}},c=i,d=n(1656),u=(0,d.A)(c,r,o,!1,null,null,null),s=u.exports,l=n(1594),p=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("Generar QR")]),t.capacity>0?e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{placeholder:"Nombre"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{placeholder:"Cedula"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"Cantidad de Manillas"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("button",{on:{click:t.generateQR}},[t._v("Generar QR")])]):e("div",[e("p",[t._v("No tienes capacidad para generar más QR")])]),t.qrCode?e("div",[e("img",{attrs:{src:t.qrCode}})]):t._e()])},m=[],f=n(1436),v={name:"GenerateQR",data(){return{name:"",id:"",quantity:0,capacity:10,qrCode:null}},methods:{async generateQR(){const t={name:this.name,id:this.id,quantity:this.quantity};this.qrCode=await f.toDataURL(JSON.stringify(t)),this.$db.collection("qrs").add({...t,qrCode:this.qrCode,used:!1,collaborator:"COLLABORATOR_ID"}),this.capacity-=this.quantity}}},h=v,y=(0,d.A)(h,p,m,!1,null,null,null),b=y.exports,g=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("Administrador")]),t._l(t.colaboradores,(function(n){return e("div",{key:n.id},[e("p",[t._v(t._s(n.name)+" - Capacidad: "+t._s(n.capacity))]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.additionalCapacity,expression:"additionalCapacity",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"Añadir capacidad"},domProps:{value:t.additionalCapacity},on:{input:function(e){e.target.composing||(t.additionalCapacity=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("button",{on:{click:function(e){return t.addCapacity(n.id)}}},[t._v("Añadir Capacidad")])])}))],2)},_=[],C={name:"AdminQR",data(){return{colaboradores:[],additionalCapacity:0}},mounted(){this.fetchColaboradores()},methods:{fetchColaboradores(){this.$db.collection("colaboradores").get().then((t=>{this.colaboradores=t.docs.map((t=>({id:t.id,...t.data()})))}))},addCapacity(t){const e=this.colaboradores.find((e=>e.id===t)),n=e.capacity+this.additionalCapacity;this.$db.collection("colaboradores").doc(t).update({capacity:n}),this.fetchColaboradores()}}},q=C,A=(0,d.A)(q,g,_,!1,null,null,null),w=A.exports,O=function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("Escanear QR")]),e("qrcode-stream",{on:{detect:t.onDetect}},[t._v(" test camera ")])],1)},x=[],R=n(5536),Q=n.n(R),k={components:{QrcodeStream:R.QrcodeStream},data(){return{message:""}},methods:{async onDetect(t){const e=await t;console.log(e)}}},N=k,j=(0,d.A)(N,O,x,!1,null,null,null),P=j.exports;a.Ay.use(l.Ay);var $=new l.Ay({mode:"history",routes:[{path:"/",name:"Home",component:b},{path:"/admin",name:"Admin",component:w},{path:"/qr-scanner",name:"QRScanner",component:P}]});a.Ay.use(Q()),a.Ay.config.productionTip=!1,new a.Ay({router:$,render:t=>t(s)}).$mount("#app")}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,a,r,o){if(!a){var i=1/0;for(s=0;s<t.length;s++){a=t[s][0],r=t[s][1],o=t[s][2];for(var c=!0,d=0;d<a.length;d++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[d])}))?a.splice(d--,1):(c=!1,o<i&&(i=o));if(c){t.splice(s--,1);var u=r();void 0!==u&&(e=u)}}return e}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[a,r,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,o,i=a[0],c=a[1],d=a[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(d)var s=d(n)}for(e&&e(a);u<i.length;u++)o=i[u],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(s)},a=self["webpackChunkfesti_qr"]=self["webpackChunkfesti_qr"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(7484)}));a=n.O(a)})();
//# sourceMappingURL=app.6cdb15f1.js.map